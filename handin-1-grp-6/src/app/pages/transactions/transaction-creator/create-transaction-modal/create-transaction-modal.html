<div class="flex flex-col p-4 gap-4">
  <h3 class="text-lg text-center">Add transaction</h3>
  <form class="flex flex-col gap-4" [formGroup]="transactionForm" (ngSubmit)="onSubmit()">

    <div class="flex flex-col">
      <label class="text-sm text-gray-400">Credit card *</label>
      <app-combobox />
    </div>

    <div class="flex flex-col">
      <label class="text-sm text-gray-400">Amount *</label>
      <input
        class="bg-gray-200 p-2 rounded-md"
        type="number"
        formControlName="amount"
      >
      @if (amount.invalid && (amount.dirty || amount.touched)) {
        <div class="text-red-400 text-sm mt-1">
          @if (amount.errors?.['required']) {
            <p>Amount is required.</p>
          }
          @if (amount.errors?.['pattern']) {
            <p>Amount must be a number.</p>
          }
        </div>
      }
    </div>

    <div class="flex flex-col">
      <label class="text-sm text-gray-400">Currency *</label>
      <input class="bg-gray-200 p-2 rounded-md" type="text" formControlName="currencyCode">

      @if (currencyCode.invalid && (currencyCode.dirty || currencyCode.touched)) {
        <div class="text-red-400 text-sm mt-1">
          @if (currencyCode.errors?.['required']) {
            <p>Currency is required.</p>
          }
        </div>
      }
    </div>

    <div class="flex flex-col">
      <label class="text-sm text-gray-400">Comment</label>
      <input class="bg-gray-200 p-2 rounded-md" type="text" formControlName="comment">
    </div>

    <div class="flex flex-col">
      <label class="text-sm text-gray-400">Date *</label>
      <input class="bg-gray-200 p-2 rounded-md" type="date" formControlName="transactionDate">

      @if (transactionDate.invalid && (transactionDate.dirty || transactionDate.touched)) {
        <div class="text-red-400 text-sm mt-1">
          @if (transactionDate.errors?.['required']) {
            <p>Date is required.</p>
          }
        </div>
      }
    </div>

    <div class="flex justify-evenly gap-4 mt-8">
      <button type="button" class="bg-red-400 text-gray-50 rounded-md p-2 w-28" (click)="onCancel()">Cancel</button>
      <input type="submit" [disabled]="transactionForm.invalid"
             class="border-2 bg-gray-50 border-blue-900 text-blue-900 rounded-md p-2 w-28 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">
    </div>
  </form>
</div>
